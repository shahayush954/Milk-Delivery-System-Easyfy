<!DOCTYPE html>
<html>
<head>
	<title>Eezyfy</title>
	<link rel="stylesheet" type="text/css" href="deliveryboys-notif.css">
	<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>
</head>
<script type="text/javascript">
	$(document).ready(function(){

		function load_unseen_notification(view=''){
			$.ajax({
				url:"php/db-fetch.php",
				method:"POST",
				data:{view:view},
				dataType:"json",
				success:function(data){
					$('.all-requests').html(data.req);
					$('.request-count').html(data.count);
				}

			});
		}

		function load_change_request(change=''){
			$.ajax({
				url:"php/db-fetch.php",
				method:"POST",
				data:{change:change},
				dataType:"json",
				success:function(data){
					$('.req').html(data.req);
					$('.count').html(data.count);
				}

			});
		}

		openRequests = () => {
			var notifs = document.getElementById("notifs");
			var requests = document.getElementById("requests");
			var notifOpt = document.getElementById("notif-opt");
			var reqOpt = document.getElementById("req-opt");
			var reqCount=document.getElementById("request-count");
			var notifCount=document.getElementById("notif-count");
			reqCount.style.color="#ff7878";
			reqCount.style.background="#fff";
			notifCount.style.background="#ff7878";
			notifCount.style.color="#fff";
			notifs.style.display = "none";
			notifOpt.style.background = "#fff";
			requests.style.display = "block";
			reqOpt.style.background = "#ff7878";
			reqOpt.style.color = "#fff";
			notifOpt.style.color="#ff7878";
		}

		openNotifs = () => {
			var notifs = document.getElementById("notifs");
			var requests = document.getElementById("requests");
			var notifOpt = document.getElementById("notif-opt");
			var reqOpt = document.getElementById("req-opt");
			var reqCount=document.getElementById("request-count");
			var notifCount=document.getElementById("notif-count");
			reqCount.style.color="#fff";
			reqCount.style.background="#ff7878";
			notifCount.style.background="#fff";
			notifCount.style.color="#ff7878";
			notifs.style.display = "block";
			notifOpt.style.color="#fff";
			notifOpt.style.background = "#ff7878";
			requests.style.display = "none";
			reqOpt.style.background = "#fff";
			reqOpt.style.color = "#ff7878";
		}

		load_unseen_notification();
		load_change_request();

	});
</script>

<body>

	<div id = "choices-tab">

		<div id = "req-opt" onclick="openRequests()"style="color: #ff7878;">
			Requests
			<div id="request-count" class = "request-count">0</div>			
		</div>
		<div id = "notif-opt" onclick="openNotifs()"style="color: #fff;">
			Notifications
			<div id="notif-count" class = "count">0</div>
		</div>
		
	</div>
	
	<div id = "notifs" style="display: block;">
		<ul class="req">
			<!--<li>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
			tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam</li>
			<li>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
			tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam</li>
			<li>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
			tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam</li>
			<li>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
			tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam</li>
			<li>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
			tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam</li>-->		
		</ul>
	</div>
	
	<div id = "requests">
		<ul class="all-requests">

	</ul>
	</div>
	
	<div id = "bottom-navbar">
	<a style="font-size:35px;"class = "child" href="deliveryboys-home.php">
		<img src="home.png"width="65" height="65" style="align-self: center; margin-bottom: 5px;">
		<label style="    font-family: Segoe UI,Frutiger,Frutiger Linotype,Dejavu Sans,Helvetica Neue,Arial,sans-serif;">Home</label>
	</a>
	<a  href="deliveryboys-notif.html" style="font-size:35px; background-color: #ff7878; color: #fff;"class = "child">
		<img src="notification_white.png"width="65" height="65" style="align-self: center;margin-bottom: 5px;">
		<label style="    font-family: Segoe UI,Frutiger,Frutiger Linotype,Dejavu Sans,Helvetica Neue,Arial,sans-serif;">Notifications</label>
	</a>
	<a href="deliveryboys-customer-page.php"style="font-size:35px;"class = "child">
		<img src="users1.png"width="65" height="65" style="align-self: center;margin-bottom: 5px;">
		<label style="    font-family: Segoe UI,Frutiger,Frutiger Linotype,Dejavu Sans,Helvetica Neue,Arial,sans-serif;">Customers</label>
	</a>
	<a href="deliveryboys-settings.php" style="font-size:35px;"class = "child">
		<img src="settings.png"width="65" height="65" style="align-self: center;margin-bottom: 5px;">
		<label style="    font-family: Segoe UI,Frutiger,Frutiger Linotype,Dejavu Sans,Helvetica Neue,Arial,sans-serif;">Settings</label>
	</a>
	</div>
	
	<script type="text/javascript">

		openRequests = () => {
			var notifs = document.getElementById("notifs");
			var requests = document.getElementById("requests");
			var notifOpt = document.getElementById("notif-opt");
			var reqOpt = document.getElementById("req-opt");
			notifs.style.display = "none";
			notifOpt.style.background = "#fff";
			requests.style.display = "block";
			reqOpt.style.background = "#ffc5c5";
		}

		openNotifs = () => {
			var notifs = document.getElementById("notifs");
			var requests = document.getElementById("requests");
			var notifOpt = document.getElementById("notif-opt");
			var reqOpt = document.getElementById("req-opt");
			notifs.style.display = "block";
			notifOpt.style.background = "#ffc5c5";
			requests.style.display = "none";
			reqOpt.style.background = "#fff";
		}

	</script>
</body>
</html>